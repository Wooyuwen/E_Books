### 存储器层次结构

> 计算机系统结构设计关键问题：
>
> 如何以合理的价格，设计容量和速度都满足计算机系统要求的存储器系统

> 容量大、速度快、价格低

> 全相联，组相联，直接映像

> #### cache: 目录表+数据存储器
>
> 目录表项： 有效位+TAG（主存块地址通过索引查找到相应组或者相应表象，然后比较TAG）
>
> 主存块地址：TAG+index
>
> 主存地址：主存块地址+块内位移
>
> 

#### 替换算法

> 直接映射cache---直接替换
>
> 组相联和全相联有多个块供选择
>
> **主要替换算法**：
>
> - 随机法
>
> - 先进先出
> - `LRU`

#### 写策略

> 写直达法：执行写操作时，不仅写入cache，而且也写入下一级存储器，易于实现
>
> > 写操作时，CPU必须等待，直到写操作结束，则称CPU写停顿：采用写缓冲器
>
> 写回法：执行写操作时，只写入cache，仅当cache中相应的块被替换时，才写回主存（设置修改位），速度快，带宽较低



#### 缓存的性能分析

> 命中率H和不命中率F
>
> 