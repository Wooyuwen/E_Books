# 程序设计语言原理



 ##  程序设计语言的定义



常规语言编译过程：

![image-20210526205148920](C:\Users\wywfd\AppData\Roaming\Typora\typora-user-images\image-20210526205148920.png)



 ### 语言的基本元素
> Java采用Unicode字符集，ASCII外的字符可用于注释、标识符、字符和字符串字面量 
> C未规定字符集，要求基本字符集合包含大小写字母、数字和29个特殊字符、



### 词法和语法
> 程序语言最低级的形式单元为**词法元素**--程序语言中的单词
> 可以把程序看成一些词法元素的序列
> 由程序的字符序列得到词法元素序列的过程就是**词法分析**（字母中找单词）
>
> #### 词法元素：
>
> > - **标识符**: 文字形式的词法对象，用于表示语言中的关键字和程序对象的名字
> > - **关键字**：if while for
> > - **保留字**: 特殊意义而且不允许程序员用于其他用途的标识符，C中关键字都是保留字
> > - **运算符**：JAVA中的`new`
> > - **空白符**：空格、制表符、换行符
> > - **分隔符**：用于分隔程序中不同词法元素的特殊符号或表示符
> > - **噪声词**：无语义的单词，有助于程序的阅读 `if then`
> > - **字面量**：直接写出的特定类型的数据
>
> 
>
> #### 词法分析:
>
> > 编译器处理表示源程序的字符序列，识别源程序中有意义的单词，得到一个单词流，流中各单词标明了词法类别。抛弃无保留价值的分隔符和噪声词
> >
> > - 输入字符序列
> >- 输出单词流
>
> 
>
> > - 词法分析通常采用最长可能原则 `staticint`可视作标识符而非关键字
> > - 有格式语言和自由格式语言
>
> 
>
> #### 语法分析
>
> > - 局部结构、上下文关系、深层原因
> > - 语法定义描述1，编译器检查1和2
> > - **BNF**
> > > 终结符：被定义的语言里的符号，最终出现在程序里
> > > 非终结符：<...>，为了写语言的语法而引入的辅助符号 
> > >
> > > EBNF(扩展的BNF)，增加元符号：
> > >
> > > > [...]：0、1次
> > > >
> > > > {...}*：0，多次
> > > >
> > > > {...}+：1，多次
> >
> > **语法图**
> >
> > > 圆标识终结符，椭圆表示非终结符v
> >
> > 语法分析判断输入是否为合语法的程序，并识别出源程序的结构y
> >
> > <digit> ::=0|1|2
> >
> > <integer>::=[+|-]{<digit>}+
> >
> > - 输入：来自词法分析器的单词序列和各单词的词法类别
> > - 输出：某种清晰地表达了源程序的内部构造的表达pattern
>
> 
>
> #### 语义分析
>
> > 弄清合法程序的语义，支持后续代码的生成
> >
> > - 输入：语法树
> > - 输出：抽象语法树和某些中间数据结构，其中记录分析得到的信息
> >
> > `抽象语法树`：从语法分析树中删除所有辅助结点，只保留程序的语法结构信息（理解为高度简化）
> >
> > 
>
> 基本语义分析创建的主要数据结构是符号表（SYMBOL TABLE）
>
> >  分析过程中需要创建和维护这个表的内容；需要使用表的信息；
> >
> >  源程序中的每个标识符在符号表里只有一个项，以标识符名为关键码，项中记录与该标识符有关的各种信息：
> >
> >  - 变量的类型信息
> >  - 数组的维数和大小，记录（结构）的描述
> >  - 类型的相关信息
> >  - 函数的原型，代码信息（还有作用域的问题，见第三章）
>



> **类型检查**：
>
> > 表达式合法性；（运算符或子程序是否运用于类型合适的对象）（对象的类型不合适时能否做适当的类型转换）
> >
> > 赋值和其他类似结构的合法性
>
> 
>
> 如果一个静态分析算法可以准确判断程序某方面的动态行为，就说这个算法是**精确**的；如果不是，增加动态检查（向下强制转换，动态类的装载）
>
> 
>
> 符号表的处理：
>
> - 常规语言在编译完成并且生成目标代码后，丢掉
> - 在程序开发的调试阶段、编译程序生成代码后会保留符号表的信息，供程序的Debugger和符号运行系统使用
>
> 
>
> 语义定义：赋予每个合法的程序一个明确的意义
>
> > 精确定义程序执行的结果（行为，结果）
> >
> > 要求编译程序（等）生成这种效果
> >
> > 程序编写人员可以依赖于这种效果写自己的程序
>
> 语义定义的基本方法是基于语言的语法结构：
>
> > 定义语言中各种基本元素的意义
> >
> > 定义语言中各种语法结构的意义，基于相应结构的成分的意义，定义整个结构的意义



> **语句的意义是其执行产生的效果**
>
> 静态语义：类型的理论
>
> 清晰定义的类型系统：`各表达式的类型`、`各语句是否类型良好的`、`处理程序中与类型有关的各种问题`
>
> 类型检查需要知道程序里所有变量的类型信息。---类型环境：所有可见变量的类型信息
>
> 一个变量的类型信息用变量名和类型对表示，如X具有类型T： `x:T`
>
> 类型环境就是 这种对的序列： Γ
>
> ```java
> x1:T,x2:T,...,xn:T
> ```
>
> ##### 类型推导
>
> > 两种形式：
> >
> > ![image-20210526212222038](C:\Users\wywfd\AppData\Roaming\Typora\typora-user-images\image-20210526212222038.png)
> >
> > 类型为T/类型良好的
> >
> > 类型规则：
> >
> > ![image-20210526214738219](C:\Users\wywfd\AppData\Roaming\Typora\typora-user-images\image-20210526214738219.png)
>
> 
>
> **断言**：用逻辑公式描述程序环境的状态的思想
>
> > 逻辑公式：a1:x=1^y=2^z=3
>
> 
>
> ##### 公理语义
>
> 霍尔逻辑：
>
> > {p}S{q}：如果在S执行前公式p成立，在S执行终止时q就成立
> >
> > 











> ****



